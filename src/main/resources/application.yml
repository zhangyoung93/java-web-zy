server:
  port: 8082
spring:
  application:
    name: java-web-zy
  aop:
    #Spring动态代理方式：springboot2.X后默认是CGLIB(true)
    proxy-target-class: true
  datasource:
    #集成druid连接池
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/zy?characterEncoding=utf8&useOldAliasMetadataBehavior=true&autoReconnect=true&useSSL=false&serverTimezone=UTC
    username: ENC(k5IohO2XLuAhwRbqdoQXc1Ab09Of3yQF)
    password: ENC(k5IohO2XLuAhwRbqdoQXc1Ab09Of3yQF)
    druid:
      # 初始化连接数（默认0，建议5-10）
      initial-size: 5
      # 最小空闲连接数（低于该值自动创建）
      min-idle: 5
      # 最大活跃连接数（控制并发上限）
      max-active: 20
      # 获取连接的最大等待时间（毫秒，超时抛异常）
      max-wait: 60000
      # 检测空闲连接的时间间隔（毫秒）
      time-between-eviction-runs-millis: 60000
      # 连接最小生存时间（毫秒）
      min-evictable-idle-time-millis: 300000
      # 验证连接有效性的 SQL（MySQL 专用）
      validation-query: SELECT 1 FROM DUAL
      # 空闲时检测连接有效性（必须开启，避免失效连接）
      test-while-idle: true
      # 申请连接时不检测（提升性能）
      test-on-borrow: false
      # 归还连接时不检测（提升性能）
      test-on-return: false
      # 开启 PS Cache（提升 SQL 执行性能）
      pool-prepared-statements: true
      # PS Cache 最大缓存数
      max-pool-prepared-statement-per-connection-size: 20
      # 启用过滤器：stat（监控）、wall（防SQL注入）、slf4j（日志）
      filters: stat,wall,slf4j
      # 合并监控数据
      use-global-data-source-stat: true
      # 每个连接最多开启的预编译语句
      max-open-prepared-statements: 20
      # 设置异步初始化连接池
      async-init: true

#mybatis
mybatis:
  mapper-locations: classpath:mapper/mysql/*.xml
  configuration:
    #开启延迟加载（关联查询提高性能）,默认关闭
    lazy-loading-enabled: true
    #是否积极延迟加载。只有真正查询关联对象属性时才加载关联对象的数据，开启延迟加载时需要设置false
    aggressive-lazy-loading: false
    #二级缓存开启配置，默认开启，但是二级缓存需要同时满足xml配置cache、实体对象实现序列化接口才能生效。
    cache-enabled: true
  #自定义插件配置
  plugin:
    #sql耗时阈值，单位毫秒
    sql-cost-time-threshold: 2000

#分页插件
pagehelper:
  # 指定数据库类型（必须，和 Druid 的 dbType 一致）
  helper-dialect: mysql
  # 分页参数合理化：页码<=0 查第1页，页码>总页数查最后一页
  reasonable: true
  # 支持通过 Mapper 参数传递分页参数
  support-methods-arguments: true

#mybatis-plus
#mybatis-plus:
#  # 自定义XML文件路径（如需）
#  mapper-locations: classpath:mapper/mysql/*.xml
#  configuration:
#    # 自动下划线转驼峰（默认开启）
#    map-underscore-to-camel-case: true
#    # 打印SQL日志（开发环境用）
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
#    # 集成SLF4J（如Logback）
#    # log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
#    #开启延迟加载（关联查询提高性能）,默认关闭
#    lazy-loading-enabled: true
#    #是否积极延迟加载。只有真正查询关联对象属性时才加载关联对象的数据，开启延迟加载时需要设置false
#    aggressive-lazy-loading: false
#    #二级缓存开启配置，默认开启，但是二级缓存需要同时满足xml配置cache、实体对象实现序列化接口才能生效。
#    cache-enabled: true
#    # 参数映射：是否允许参数为null（默认true，避免空指针）
#    call-setters-on-nulls: true
#  global-config:
#    db-config:
#      # 主键自增策略（默认）。AUTO：数据库自增；NONE：无策略；INPUT：手动输入；ASSIGN_ID：雪花算法生成Long型ID
#      id-type: AUTO
#      # 全局逻辑删除字段名
#      logic-delete-field: deleted
#      # 逻辑删除值（默认1）
#      logic-delete-value: 1
#      # 逻辑未删除值（默认0）
#      logic-not-delete-value: 0
#    # 打印mybatis-plus启动logo横幅（默认true）
#    banner: true

#swagger
swagger:
  enabled: true
  base-package: com.zy.demo
  title: JavaWebDemoApi
  description: Api for JavaWebDemo
  contact:
    name: zy
    email: 414211111@qq.com
  host: 10.1.1.1

#logback
logging:
  file:
    name: java-web-zy.log
  #打印SQL日志
  level:
    com.zy.demo.dao: DEBUG
#jasypt
jasypt:
  encryptor:
    #密钥（生产环境要隐藏，换成其它方式）
    password: zySecret
    #加密算法（默认PBEWITHHMACSHA512ANDAES_256，需要验证兼容性）
    algorithm: PBEWithMD5AndDES
    #初始化向量生成类（确保相同的明文加密后生成不同的密文，增强安全性），默认随机生成。
    iv-generator-classname: org.jasypt.iv.RandomIvGenerator